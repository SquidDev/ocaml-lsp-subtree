(include_subdirs unqualified)

; get rid of this gross hack once dune has proper crunch support

(rule
 (with-stdout-to
  spec.ml
  (progn
   (echo "let _3_15 = {spec|")
   (echo "%{read:specifications/specification-3-15.md}")
   (echo "|spec}"))))

(executable
 (name gen)
 (modules gen)
 (preprocess future_syntax)
 (libraries stdune lsp_gen))

(library
 (name lsp_gen)
 (preprocess future_syntax)
 (modules :standard \ gen)
 (libraries stdune))
